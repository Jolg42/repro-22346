## Reproduction attempt

For https://github.com/prisma/prisma/issues/22346

Make sure to have a database running and edit the `.env` file.

```sh
# Check your Node.js version
node -v

npm i

# Check your Prisma version
npx prisma -v

# Start the MongoDB database
docker compose up -d

npx prisma db push

NODE_OPTIONS="--max-old-space-size=200" npx ts-node main.ts
```

Note: Results can be pasted to a copy of the following template to generate a chart:
https://docs.google.com/spreadsheets/d/1DkWShy7paAE5tVrDFO3vZH_m1FxPo859MCap7CAF92w/edit?usp=sharing

Result on macOS for `300_000` items:

```
time,rss (MiB),heapTotal (MiB),heapUsed (MiB),external (MiB),arrayBuffers (MiB)
0.000,210.8,125.2,107.0,1.345,0.2596,
6.064,387.0,130.2,100.2,1.345,0.05502,
11.811,439.6,100.5,96.63,1.107,0.02377,
17.399,425.8,100.5,96.65,1.107,0.02377,
23.044,441.0,100.5,96.75,1.107,0.02377,
28.607,493.7,100.5,96.76,1.107,0.02377,
34.295,393.7,100.5,96.78,1.107,0.02377,
39.850,509.1,100.5,96.79,1.107,0.02377,
45.482,480.1,100.5,96.80,1.107,0.02377,
51.455,382.1,100.5,96.82,1.107,0.02377,
57.103,498.2,100.5,96.83,1.107,0.02377,
62.653,587.2,100.5,96.85,1.107,0.02377,
68.154,563.9,100.5,96.94,1.107,0.02377,
73.711,592.9,100.5,96.95,1.107,0.02377,
79.096,510.2,100.5,96.97,1.107,0.02377,
84.627,489.0,100.5,96.98,1.107,0.02377,
90.262,553.9,100.5,96.99,1.107,0.02377,
95.818,512.8,100.5,97.01,1.107,0.02377,
101.420,494.2,100.5,97.02,1.107,0.02377,
106.987,540.3,100.5,97.03,1.107,0.02377,
112.703,552.7,100.5,97.05,1.107,0.02377,
118.064,508.1,100.5,97.06,1.107,0.02377,
123.455,488.5,100.5,97.07,1.107,0.02377,
129.142,441.9,100.5,97.09,1.107,0.02377,
134.909,464.8,100.5,97.10,1.107,0.02377,
140.760,435.6,100.5,97.11,1.107,0.02377,
146.319,481.9,100.5,97.13,1.107,0.02377,
151.838,447.1,100.5,97.14,1.107,0.02377,
157.606,465.3,100.5,97.15,1.107,0.02377,
163.372,381.1,100.5,97.16,1.107,0.02377,
169.010,410.8,100.5,97.18,1.107,0.02377,
174.722,462.6,100.5,97.19,1.107,0.02377,
180.347,441.3,100.5,97.20,1.107,0.02377,
185.904,476.0,100.5,97.22,1.107,0.02377,
192.174,270.7,100.5,97.23,1.107,0.02377,
197.909,447.3,100.5,97.24,1.107,0.02377,
203.627,426.3,100.5,97.26,1.107,0.02377,
209.368,427.8,100.5,97.27,1.107,0.02377,
215.039,440.3,100.5,97.28,1.107,0.02377,
220.619,437.1,100.5,97.30,1.107,0.02377,
226.483,403.9,100.5,97.31,1.107,0.02377,
232.059,464.5,100.5,97.32,1.107,0.02377,
237.538,495.4,100.5,97.34,1.107,0.02377,
243.119,432.3,100.5,97.35,1.107,0.02377,
248.679,496.4,100.5,97.36,1.107,0.02377,
254.264,500.5,100.5,97.37,1.107,0.02377,
259.888,427.4,100.5,97.39,1.107,0.02377,
265.765,474.9,100.5,97.40,1.107,0.02377,
271.289,407.4,100.5,97.42,1.107,0.02377,
277.080,371.3,100.5,97.43,1.107,0.02377,
282.670,470.7,100.5,97.44,1.107,0.02377,
288.343,442.9,100.5,97.46,1.107,0.02377,
294.155,405.5,100.5,97.47,1.107,0.02377,
299.628,411.7,100.5,97.48,1.107,0.02377,
305.346,460.9,100.5,97.50,1.107,0.02377,
310.993,397.8,100.5,97.51,1.107,0.02377,
316.640,403.5,100.5,97.52,1.107,0.02377,
322.463,438.0,100.5,97.53,1.107,0.02377,
328.288,428.1,100.5,97.55,1.107,0.02377,
333.967,412.6,100.5,97.56,1.107,0.02377,
339.682,416.0,100.5,97.57,1.107,0.02377,
345.665,491.5,100.5,97.59,1.107,0.02377,
351.347,423.7,100.5,97.60,1.107,0.02377,
356.896,541.2,100.5,97.61,1.107,0.02377,
362.371,529.4,100.5,97.63,1.107,0.02377,
367.957,480.7,100.5,97.64,1.107,0.02377,
373.410,455.4,100.5,97.65,1.107,0.02377,
378.998,491.5,100.5,97.67,1.107,0.02377,
385.273,378.8,100.5,97.68,1.107,0.02377,
391.305,412.4,100.5,97.69,1.107,0.02377,
397.410,509.7,100.5,97.71,1.107,0.02377,
402.978,438.5,100.5,97.72,1.107,0.02377,
408.725,439.2,100.5,97.73,1.107,0.02377,
414.490,461.2,100.5,97.74,1.107,0.02377,
420.255,458.6,100.5,97.76,1.107,0.02377,
426.212,447.4,100.5,97.77,1.107,0.02377,
431.774,502.6,100.5,97.78,1.107,0.02377,
437.329,464.2,100.5,96.87,1.107,0.02377,
442.888,455.0,100.5,96.88,1.107,0.02377,
448.459,405.8,100.5,96.89,1.107,0.02377,
454.214,459.2,100.5,96.91,1.107,0.02377,
460.205,514.3,100.5,96.92,1.107,0.02377,
466.185,387.1,100.5,96.93,1.107,0.02377,
472.259,371.2,100.5,96.95,1.107,0.02377,
478.635,452.6,100.5,96.96,1.107,0.02377,
484.236,450.8,100.5,96.97,1.107,0.02377,
489.821,514.0,100.5,96.98,1.107,0.02377,
495.345,441.1,100.5,97.00,1.107,0.02377,
500.910,459.5,100.5,97.01,1.107,0.02377,
506.459,466.1,100.5,97.02,1.107,0.02377,
512.068,445.3,100.5,97.04,1.107,0.02377,
517.755,500.7,100.5,97.05,1.107,0.02377,
523.504,378.9,100.5,97.07,1.107,0.02377,
529.683,390.2,100.5,97.08,1.107,0.02377,
535.889,416.1,100.5,97.09,1.107,0.02377,
541.559,425.8,100.5,97.10,1.107,0.02377,
547.475,444.6,100.5,97.12,1.107,0.02377,
553.063,501.1,100.5,97.13,1.107,0.02377,
558.648,458.2,100.5,97.14,1.107,0.02377,
564.238,447.5,100.5,97.16,1.107,0.02377,
570.112,496.6,100.5,97.17,1.107,0.02377,
576.033,417.0,100.5,97.18,1.107,0.02377,
581.807,484.6,100.5,97.20,1.107,0.02377,
587.621,454.5,100.5,97.21,1.107,0.02377,
593.629,445.6,100.5,97.22,1.107,0.02377,
599.454,450.2,100.5,97.24,1.107,0.02377,
604.841,520.6,100.5,97.25,1.107,0.02377,
```
